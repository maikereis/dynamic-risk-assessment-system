schema: '2.0'
stages:
  ingest:
    cmd: python src/ingestion.py
    deps:
    - path: data/practicedata
      md5: a658ff13b77b8de818f1521c7cd41e2a.dir
      size: 766
      nfiles: 3
    - path: src/ingestion.py
      md5: 42864b76d12dc728c6cb9f933adc1838
      size: 1451
    outs:
    - path: data/ingesteddata/finaldata.csv
      md5: e560d7416c492536808193f907c04e83
      size: 522
    - path: data/ingesteddata/ingesteddata.txt
      md5: 2f5fc50b7bdc512bf1dfb6159f1e44fd
      size: 25
  train:
    cmd: python src/training.py
    deps:
    - path: data/ingesteddata/finaldata.csv
      md5: e560d7416c492536808193f907c04e83
      size: 522
    - path: src/ingestion.py
      md5: 42864b76d12dc728c6cb9f933adc1838
      size: 1451
    params:
      params.yaml:
        train:
          drop: corporation
          features:
          - lastmonth_activity
          - lastyear_activity
          - number_of_employees
          target: exited
    outs:
    - path: data/practicemodels/trainedmodel.pkl
      md5: 1d37cfc12a45219b372a2f1f8369b062
      size: 811
  scoring:
    cmd: python src/scoring.py
    deps:
    - path: data/practicemodels/trainedmodel.pkl
      md5: 1d37cfc12a45219b372a2f1f8369b062
      size: 811
    - path: data/testdata/testdata.csv
      md5: 2b130a79cba17e373f5642ae772df29c
      size: 164
    - path: src/scoring.py
      md5: 9e7e642d03e1a80296ae7d1269050534
      size: 1159
    params:
      params.yaml:
        train:
          drop: corporation
          features:
          - lastmonth_activity
          - lastyear_activity
          - number_of_employees
          target: exited
    outs:
    - path: data/practicemodels/latestscore.txt
      md5: b9d98b4b4b857b924f1e6cb579dd41fb
      size: 18
  deploy:
    cmd: python src/deployment.py
    deps:
    - path: data/ingesteddata/ingesteddata.txt
      md5: 2f5fc50b7bdc512bf1dfb6159f1e44fd
      size: 25
    - path: data/practicemodels/latestscore.txt
      md5: b9d98b4b4b857b924f1e6cb579dd41fb
      size: 18
    - path: data/practicemodels/trainedmodel.pkl
      md5: 1d37cfc12a45219b372a2f1f8369b062
      size: 811
    - path: src/deployment.py
      md5: a9bd03270e0a77bd4223e83769098e3f
      size: 1078
    outs:
    - path: data/production_deployment/ingesteddata.txt
      md5: 2f5fc50b7bdc512bf1dfb6159f1e44fd
      size: 25
    - path: data/production_deployment/latestscore.txt
      md5: b9d98b4b4b857b924f1e6cb579dd41fb
      size: 18
    - path: data/production_deployment/trainedmodel.pkl
      md5: 1d37cfc12a45219b372a2f1f8369b062
      size: 811
  predict:
    cmd: python src/diagnostics.py model-predictions data/testdata/testdata.csv data/practicemodels
    deps:
    - path: data/practicemodels/trainedmodel.pkl
      md5: 1d37cfc12a45219b372a2f1f8369b062
      size: 811
    - path: src/diagnostics.py
      md5: dd530105480845f76af36155b3a1a902
      size: 2435
    params:
      params.yaml:
        train:
          drop: corporation
          features:
          - lastmonth_activity
          - lastyear_activity
          - number_of_employees
          target: exited
  statistics:
    cmd: python src/diagnostics.py dataframe-summary data/ingesteddata
    deps:
    - path: src/diagnostics.py
      md5: b20e30bf41865a015465a288a2f4d90d
      size: 2548
  count_nan:
    cmd: python src/diagnostics.py count-nan data/ingesteddata
    deps:
    - path: src/diagnostics.py
      md5: b20e30bf41865a015465a288a2f4d90d
      size: 2548
  execution_time:
    cmd: python src/diagnostics.py execution-time
    deps:
    - path: src/diagnostics.py
      md5: b20e30bf41865a015465a288a2f4d90d
      size: 2548
  check_packages:
    cmd: python src/diagnostics.py outdated-packages-list
    deps:
    - path: src/diagnostics.py
      md5: b20e30bf41865a015465a288a2f4d90d
      size: 2548
